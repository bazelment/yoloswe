{"type":"file-history-snapshot","messageId":"snap-001","snapshot":{"messageId":"snap-001","trackedFileBackups":{},"timestamp":"2026-02-28T10:00:00.000Z"},"isSnapshotUpdate":false}
{"type":"system","subtype":"init","sessionId":"test-session-001","uuid":"sys-001","model":"claude-opus-4-6","cwd":"/home/user/project","permissionMode":"default","tools":["Read","Write","Bash","Glob","Grep","Edit","Task"],"agents":[],"skills":["commit"],"timestamp":"2026-02-28T10:00:01.000Z","version":"2.1.58","gitBranch":"main"}
{"type":"user","sessionId":"test-session-001","uuid":"user-001","parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/home/user/project","version":"2.1.58","gitBranch":"main","message":{"role":"user","content":"Fix the authentication bug in login.go"},"timestamp":"2026-02-28T10:00:02.000Z"}
{"type":"assistant","sessionId":"test-session-001","uuid":"asst-001","parentUuid":"user-001","isSidechain":false,"requestId":"req-001","message":{"model":"claude-opus-4-6","id":"msg-001","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Let me analyze the authentication code to find the bug.","signature":"sig-001"},{"type":"text","text":"I'll look at the authentication code to identify the bug."},{"type":"tool_use","id":"toolu-001","name":"Read","input":{"file_path":"/home/user/project/login.go"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":1500,"output_tokens":200,"cache_creation_input_tokens":0,"cache_read_input_tokens":0}},"timestamp":"2026-02-28T10:00:05.000Z"}
{"type":"progress","sessionId":"test-session-001","data":{"type":"bash_progress","output":"reading file...","elapsedTimeSeconds":1},"toolUseID":"toolu-001","uuid":"prog-001","timestamp":"2026-02-28T10:00:06.000Z"}
{"type":"user","sessionId":"test-session-001","uuid":"user-002","parentUuid":"asst-001","isSidechain":false,"userType":"external","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu-001","content":"package main\n\nfunc login(user, pass string) error {\n\tif user == \"\" {\n\t\treturn fmt.Errorf(\"empty user\")\n\t}\n\treturn nil\n}","is_error":false}]},"toolUseResult":{"stdout":"package main...","stderr":"","interrupted":false},"timestamp":"2026-02-28T10:00:07.000Z"}
{"type":"assistant","sessionId":"test-session-001","uuid":"asst-002","parentUuid":"user-002","isSidechain":false,"requestId":"req-002","message":{"model":"claude-opus-4-6","id":"msg-002","type":"message","role":"assistant","content":[{"type":"text","text":"I found the bug! The login function doesn't validate the password. Let me fix it."},{"type":"tool_use","id":"toolu-002","name":"Edit","input":{"file_path":"/home/user/project/login.go","old_string":"return nil","new_string":"if pass == \"\" {\n\t\treturn fmt.Errorf(\"empty password\")\n\t}\n\treturn nil"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":2000,"output_tokens":150}},"timestamp":"2026-02-28T10:00:10.000Z"}
{"type":"user","sessionId":"test-session-001","uuid":"user-003","parentUuid":"asst-002","isSidechain":false,"userType":"external","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu-002","content":"File edited successfully.","is_error":false}]},"toolUseResult":{"file":"/home/user/project/login.go","stdout":"","stderr":"","interrupted":false},"timestamp":"2026-02-28T10:00:11.000Z"}
{"type":"assistant","sessionId":"test-session-001","uuid":"asst-003","parentUuid":"user-003","isSidechain":false,"requestId":"req-003","message":{"model":"claude-opus-4-6","id":"msg-003","type":"message","role":"assistant","content":[{"type":"text","text":"I've fixed the authentication bug. The login function now validates both the username and password."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":2500,"output_tokens":50}},"timestamp":"2026-02-28T10:00:13.000Z"}
{"type":"system","subtype":"turn_duration","durationMs":11000,"sessionId":"test-session-001","uuid":"sys-002","parentUuid":"asst-003","timestamp":"2026-02-28T10:00:13.100Z"}
{"type":"result","session_id":"test-session-001","uuid":"res-001","subtype":"","result":"","num_turns":1,"total_cost_usd":0.0235,"duration_ms":11000,"is_error":false,"usage":{"input_tokens":2500,"output_tokens":400},"timestamp":"2026-02-28T10:00:14.000Z"}
{"type":"system","subtype":"api_error","sessionId":"test-session-001","uuid":"sys-003","level":"error","cause":{"code":"FailedToOpenSocket","path":"https://api.anthropic.com/v1/messages"},"error":{"cause":{"code":"FailedToOpenSocket","path":"https://api.anthropic.com/v1/messages"}},"retryInMs":522.8,"retryAttempt":1,"timestamp":"2026-02-28T10:00:15.000Z"}
{"type":"pr-link","sessionId":"test-session-001","prNumber":42,"prUrl":"https://github.com/example/repo/pull/42","prRepository":"example/repo","timestamp":"2026-02-28T10:00:16.000Z"}
{"type":"queue-operation","operation":"enqueue","sessionId":"test-session-001","timestamp":"2026-02-28T10:00:17.000Z","content":"background task"}
{"type":"system","subtype":"compact_boundary","sessionId":"test-session-001","uuid":"sys-004","content":"Conversation compacted","level":"info","logicalParentUuid":"asst-003","compactMetadata":{"trigger":"auto","preTokens":50000},"timestamp":"2026-02-28T10:00:18.000Z"}
{"type":"progress","sessionId":"test-session-001","data":{"type":"mcp_progress","status":"completed","serverName":"playwright","toolName":"browser_navigate","elapsedTimeMs":1200},"toolUseID":"toolu-mcp-001","uuid":"prog-002","timestamp":"2026-02-28T10:00:19.000Z"}
{"type":"progress","sessionId":"test-session-001","data":{"type":"waiting_for_task","taskDescription":"Run E2E tests","taskType":"local_bash"},"toolUseID":"task-waiting-001","uuid":"prog-003","timestamp":"2026-02-28T10:00:20.000Z"}
